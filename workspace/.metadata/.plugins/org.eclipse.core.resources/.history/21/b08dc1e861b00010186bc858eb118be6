package controllers;

import java.util.List;

import models.Tweet;
import play.mvc.Controller;
import play.mvc.With;

@With(Secure.class)
public class Timeline extends Controller {

	public static void index(){
		List<Tweet> tweets = Tweet.find("order by date desc").fetch();
		render(tweets);
	}
	
	
	public static void addTweet(Tweet tweet){
	    tweet.author = Security.userConnected();
	    tweet.date = new Date();
	    tweet.save();

	    timeline(); //redirige de nuevo al timeline
	}
}
